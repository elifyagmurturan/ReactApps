{"ast":null,"code":"import _slicedToArray from \"/Users/elifturan/Desktop/2021/CS/ReactApps/blog-with-simple-backend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/elifturan/Desktop/2021/CS/ReactApps/blog-with-simple-backend/src/pages/HomePage.js\";\nimport React, { useEffect, useContext } from 'react';\nimport { useResource } from 'react-request-hook';\nimport PostList from '../post/PostList';\nimport { StateContext } from '../contexts';\nexport default function HomePage() {\n  var _useContext = useContext(StateContext),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var error = state.error;\n\n  var _useResource = useResource(function () {\n    return {\n      url: '/posts',\n      method: 'get'\n    };\n  }),\n      _useResource2 = _slicedToArray(_useResource, 2),\n      posts = _useResource2[0],\n      getPosts = _useResource2[1];\n\n  useEffect(getPosts, []);\n  useEffect(function () {\n    if (posts && posts.error) {\n      dispatch({\n        type: 'POSTS_ERROR'\n      });\n    }\n\n    if (posts && posts.data) {\n      dispatch({\n        type: 'FETCH_POSTS',\n        posts: posts.data.reverse()\n      });\n    }\n  }, [posts]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, error && React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, error), React.createElement(PostList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/Users/elifturan/Desktop/2021/CS/ReactApps/blog-with-simple-backend/src/pages/HomePage.js"],"names":["React","useEffect","useContext","useResource","PostList","StateContext","HomePage","state","dispatch","error","url","method","posts","getPosts","type","data","reverse"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,UAA1B,QAA2C,OAA3C;AACA,SAAQC,WAAR,QAA0B,oBAA1B;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,SAAQC,YAAR,QAA2B,aAA3B;AAEA,eAAe,SAASC,QAAT,GAAoB;AAAA,oBACLJ,UAAU,CAACG,YAAD,CADL;AAAA,MACxBE,KADwB,eACxBA,KADwB;AAAA,MACjBC,QADiB,eACjBA,QADiB;;AAAA,MAExBC,KAFwB,GAEfF,KAFe,CAExBE,KAFwB;;AAAA,qBAINN,WAAW,CAAC;AAAA,WAAO;AACxCO,MAAAA,GAAG,EAAE,QADmC;AAExCC,MAAAA,MAAM,EAAE;AAFgC,KAAP;AAAA,GAAD,CAJL;AAAA;AAAA,MAIzBC,KAJyB;AAAA,MAIlBC,QAJkB;;AAQ/BZ,EAAAA,SAAS,CAACY,QAAD,EAAW,EAAX,CAAT;AACAZ,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAGW,KAAK,IAAIA,KAAK,CAACH,KAAlB,EAAwB;AACpBD,MAAAA,QAAQ,CAAC;AAACM,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAR;AACH;;AACD,QAAGF,KAAK,IAAIA,KAAK,CAACG,IAAlB,EAAuB;AACnBP,MAAAA,QAAQ,CAAC;AAACM,QAAAA,IAAI,EAAE,aAAP;AAAsBF,QAAAA,KAAK,EAAEA,KAAK,CAACG,IAAN,CAAWC,OAAX;AAA7B,OAAD,CAAR;AACH;AACJ,GAPQ,EAON,CAACJ,KAAD,CAPM,CAAT;AASA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKH,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,KAAJ,CADd,EAEI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ;AAMH","sourcesContent":["import React, {useEffect, useContext} from 'react'\nimport {useResource} from 'react-request-hook'\nimport PostList from '../post/PostList'\nimport {StateContext} from '../contexts'\n\nexport default function HomePage() {\n    const {state, dispatch} = useContext(StateContext)\n    const {error} = state\n    \n    const[posts, getPosts] = useResource(() => ({\n        url: '/posts',\n        method: 'get'\n    }))\n    useEffect(getPosts, [])\n    useEffect(() => {\n        if(posts && posts.error){\n            dispatch({type: 'POSTS_ERROR'})\n        }\n        if(posts && posts.data){\n            dispatch({type: 'FETCH_POSTS', posts: posts.data.reverse()})\n        }\n    }, [posts])\n\n    return(\n        <div>\n            {error && <b>{error}</b>}\n            <PostList />\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}